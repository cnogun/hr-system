<!--
  파일명: notice.ejs
  목적: 시스템 알림 목록 페이지 (로그인 전)
  기능:
  - 최신 시스템 알림 표시
  - 알림 제목 및 내용 표시
  - 작성자 및 작성일 표시
  - 로그인 페이지 연결
  - 반응형 디자인 적용
  - 현대적인 카드 디자인
-->
<%- include('noticeHeader') %>
<div class="container py-5 flex-grow-1">
  <div class="row justify-content-center">
    <div class="col-md-10">
      <div class="text-center mb-5">
        <h1 class="display-5 fw-bold text-primary mb-3">
          <i class="fas fa-bullhorn me-3"></i>시스템 알림
        </h1>

      </div>
      
      <% if (notices.length === 0) { %>
        <div class="text-center py-5">
          <div class="empty-state">
            <i class="fas fa-inbox fa-3x text-muted mb-3"></i>
            <h4 class="text-muted">등록된 공지사항이 없습니다</h4>
            <p class="text-muted">새로운 공지사항이 등록되면 여기에 표시됩니다.</p>
          </div>
        </div>
      <% } else { %>
        <div class="row g-4">
          <% notices.forEach(function(notice, index) { %>
            <div class="col-12">
              <div class="notice-card h-100">
                <div class="card-body p-4">
                  <div class="d-flex justify-content-between align-items-start mb-3">
                    <h5 class="card-title fw-bold text-primary mb-0">
                      <i class="fas fa-file-alt me-2"></i><%= notice.title %>
                    </h5>
                    <span class="badge bg-primary rounded-pill">
                      <i class="fas fa-clock me-1"></i>
                      <%= notice.createdAt.toISOString().slice(0,10) %>
                    </span>
                  </div>
                  
                  <div class="notice-content mb-3">
                    <%- notice.content.replace(/\n/g, '<br>') %>
                  </div>
                  

                </div>
              </div>
            </div>
          <% }) %>
        </div>
        
        <!-- 페이지네이션 -->
        <% if (totalPages > 1) { %>
          <nav aria-label="공지사항 페이지네이션" class="mt-5">
            <ul class="pagination justify-content-center">
              <% for(let i = 1; i <= totalPages; i++) { %>
                <li class="page-item <%= currentPage == i ? 'active' : '' %>">
                  <a class="page-link" href="?page=<%= i %>"><%= i %></a>
                </li>
              <% } %>
            </ul>
          </nav>
        <% } %>
      <% } %>
      
      <div class="text-center mt-5">
        <a href="/auth/login" class="btn btn-primary btn-lg px-5">
          <i class="fas fa-sign-in-alt me-2"></i>로그인
        </a>
      </div>
    </div>
  </div>
</div>

<style>
  .notice-card {
    background: white;
    border: none;
    border-radius: 16px;
    box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    transition: all 0.3s ease;
    border: 1px solid rgba(0,0,0,0.05);
  }
  
  .notice-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 30px rgba(0,0,0,0.12);
  }
  
  .notice-content {
    line-height: 1.6;
    color: #495057;
  }
  
  .notice-footer {
    border-top: 1px solid #e9ecef;
    padding-top: 1rem;
  }
  
  .badge {
    font-size: 0.8rem;
    padding: 0.5rem 1rem;
  }
  
  .empty-state {
    padding: 3rem;
  }
  
  .empty-state i {
    opacity: 0.5;
  }
  
  .pagination .page-link {
    border-radius: 8px;
    margin: 0 0.125rem;
    border: 1px solid #dee2e6;
    color: #667eea;
  }
  
  .pagination .page-item.active .page-link {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    border-color: #667eea;
    color: white;
  }
  
  .pagination .page-link:hover {
    background-color: #f8f9fa;
    border-color: #667eea;
  }
  
  .btn-lg {
    padding: 1rem 2rem;
    font-size: 1.1rem;
    border-radius: 12px;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
    transition: all 0.3s ease;
  }
  
  .btn-lg:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
  }
  
  @media (max-width: 768px) {
    .notice-card {
      margin-bottom: 1rem;
    }
    
    .notice-footer {
      flex-direction: column;
      align-items: flex-start;
      gap: 1rem;
    }
    
    .display-5 {
      font-size: 2rem;
    }
  }
</style>



<%- include('footer') %> 