<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>근무명령서 작성 - 테스트</title>
    <style>
        body {
            font-family: 'Malgun Gothic', sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .form-section {
            margin-bottom: 15px;
            border: none;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .section-header {
            background-color: #f8f9fa;
            padding: 8px 15px;
            font-weight: bold;
            font-size: 14px;
            border-bottom: none;
        }
        
        .section-content {
            padding: 20px;
        }
        
        .form-row {
            display: flex;
            margin-bottom: 15px;
            align-items: center;
        }
        
        .form-group {
            margin-right: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 12px;
        }
        
        .form-control {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 12px;
        }
        
        .work-assignment-table {
            width: 100%;
            border-collapse: collapse;
            border: 1px solid #ddd;
            font-size: 14px;
        }
        
        .work-assignment-table th,
        .work-assignment-table td {
            border: 1px solid #ddd;
            padding: 6px;
            text-align: center;
            vertical-align: middle;
            height: 20px;
        }
        
        .work-assignment-table th {
            background-color: #f0f0f0;
            font-weight: normal;
        }
        
        .work-assignment-table .region-col {
            background-color: #e9ecef;
            font-weight: bold;
            width: 15%;
        }
        
        .work-assignment-table .location-col {
            background-color: #e9ecef;
            font-weight: bold;
            text-align: center;
            width: 25%;
        }
        
        .work-assignment-table .personnel-col {
            width: 60%;
            text-align: left;
        }
        
        .work-assignment-table .personnel-col input {
            width: 80px;
            border: 1px solid #ddd;
            padding: 2px;
            text-align: left;
            font-size: 12px;
            margin: 2px;
        }
        
        /* 새로운 근무편성 좌우 대칭 스타일 */
        .assignment-container {
            display: flex;
            gap: 20px;
            width: 100%;
        }
        
        .assignment-left, .assignment-right {
            flex: 1;
        }
        
        .assignment-left table, .assignment-right table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 0;
            table-layout: fixed;
        }
        
        .assignment-left th, .assignment-right th {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 8px;
            text-align: center;
            font-weight: bold;
            height: 20px;
        }
        
        .assignment-left td, .assignment-right td {
            border: 1px solid #dee2e6;
            padding: 4px;
            vertical-align: middle;
            height: 20px;
        }
        
        .assignment-left .region-col, .assignment-right .region-col {
            width: 15%;
            text-align: center;
            font-weight: bold;
            background-color: #e9ecef;
        }
        
        .assignment-left .location-col, .assignment-right .location-col {
            width: 25%;
            text-align: center;
            vertical-align: middle;
            font-weight: bold;
            background-color: #f8f9fa;
        }
        
        .assignment-left .personnel-col, .assignment-right .personnel-col {
            width: 60%;
            text-align: left;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            margin-right: 10px;
        }
        
        .btn-primary {
            background-color: #007bff;
            color: white;
        }
        
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>근무명령서 작성 - 테스트 버전</h1>
        
        <form action="/work-orders" method="POST">
            <!-- 근무 정보 -->
            <div class="form-section">
                <div class="section-header">□ 근무 정보</div>
                <div class="section-content">
                    <div class="form-row">
                        <div class="form-group">
                            <label>근무 날짜</label>
                            <input type="date" name="workInfo[date]" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>근무팀</label>
                            <input type="text" name="workInfo[team]" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>근무조</label>
                            <input type="text" name="workInfo[shift]" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>근무시간(시작)</label>
                            <input type="time" name="workInfo[workTime][start]" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>근무시간(종료)</label>
                            <input type="time" name="workInfo[workTime][end]" class="form-control" required>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 인원 현황 -->
            <div class="form-section">
                <div class="section-header">□ 인원 현황</div>
                <div class="section-content">
                    <div class="form-row">
                        <div class="form-group">
                            <label>총원</label>
                            <input type="number" name="personnelStatus[totalPersonnel]" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label>결원 수</label>
                            <input type="number" name="personnelStatus[absentPersonnel]" class="form-control" value="0">
                        </div>
                        <div class="form-group">
                            <label>현재원</label>
                            <input type="number" name="personnelStatus[currentPersonnel]" class="form-control" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group" style="width: 100%;">
                            <label>사고내용</label>
                            <textarea name="personnelStatus[accidentDetails]" class="form-control" rows="3" placeholder="사고내용을 입력하세요"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 근무 편성 -->
            <div class="form-section">
                <div class="section-header">□ 근무 편성</div>
                <div class="section-content">
                    <div class="assignment-container">
                        <!-- 왼쪽 영역 (해안지역) -->
                        <div class="assignment-left">
                            <table class="work-assignment-table" style="table-layout: fixed; vertical-align: middle; font-size: 14px;">
                                <thead>
                                    <tr style="height: 20px;">
                                        <th class="region-col" style="vertical-align: middle;">지역</th>
                                        <th class="location-col" style="vertical-align: middle;">보안근무지</th>
                                        <th class="personnel-col" style="vertical-align: middle;">편성</th>
                                    </tr>
                                </thead>
                                <tr style="height: 1px; background-color: #ddd;">
                                    <td colspan="3" style="padding: 0; height: 1px;"></td>
                                </tr>
                                <tbody>
                                    <!-- 해안지역 -->
                                    <tr>
                                        <td rowspan="12" class="region-col">해안지역</td>
                                        <td rowspan="2" class="location-col">해안입문</td>
                                        <td class="personnel-col">
                                            <div style="display: flex; gap: 60px; justify-content: flex-start;">
                                                <div style="text-align: left;">반장: <input type="text" name="teamLeader_해안입문" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px;"></div>
                                                <div style="text-align: left;">조장: <input type="text" name="supervisor_해안입문" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px;"></div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="personnel-col">
                                            <input type="text" name="member_해안입문_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_해안입문_1" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_해안입문_2" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">해안출문</td>
                                        <td class="personnel-col">
                                            <input type="text" name="member_해안출문_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_해안출문_1" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_해안출문_2" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td rowspan="2" class="location-col">기술교육원문</td>
                                        <td class="personnel-col">
                                            <div style="text-align: left;">조장: <input type="text" name="supervisor_기술교육원문" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px;"></div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="personnel-col">
                                            <input type="text" name="member_기술교육원문_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_기술교육원문_1" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">교육원중문</td>
                                        <td class="personnel-col">
                                            <input type="text" name="member_교육원중문_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">성내주차장문</td>
                                        <td class="personnel-col">
                                            <input type="text" name="member_성내주차장문_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">성내주차장초소</td>
                                        <td class="personnel-col">
                                            <input type="text" name="member_성내주차장초소_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">선적중문</td>
                                        <td class="personnel-col">
                                            <input type="text" name="workAssignment[선적중문].assignment.members[0]" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="workAssignment[선적중문].assignment.members[1]" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="hidden" name="workAssignment[선적중문].region" value="해안지역">
                                            <input type="hidden" name="workAssignment[선적중문].location" value="선적중문">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">5의장중문</td>
                                        <td class="personnel-col">
                                            <input type="text" name="workAssignment[5의장중문].assignment.members[0]" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="workAssignment[5의장중문].assignment.members[1]" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="hidden" name="workAssignment[5의장중문].region" value="해안지역">
                                            <input type="hidden" name="workAssignment[5의장중문].location" value="5의장중문">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">아산로중문</td>
                                        <td class="personnel-col">
                                            <input type="text" name="workAssignment[아산로중문].assignment.members[0]" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="workAssignment[아산로중문].assignment.members[1]" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="hidden" name="workAssignment[아산로중문].region" value="해안지역">
                                            <input type="hidden" name="workAssignment[아산로중문].location" value="아산로중문">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">항만순찰</td>
                                        <td class="personnel-col">
                                            <input type="text" name="member_항만순찰_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_항만순찰_1" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- 오른쪽 영역 (성내/시트/매암동지역) -->
                        <div class="assignment-right">
                            <table class="work-assignment-table" style="table-layout: fixed; vertical-align: middle; font-size: 14px;">
                                <thead>
                                    <tr style="height: 20px;">
                                        <th class="region-col" style="vertical-align: middle;">지역</th>
                                        <th class="location-col" style="vertical-align: middle;">보안근무지</th>
                                        <th class="personnel-col" style="vertical-align: middle;">편성</th>
                                    </tr>
                                </thead>
                                <tr style="height: 1px; background-color: #ddd;">
                                    <td colspan="3" style="padding: 0; height: 1px;"></td>
                                </tr>
                                <tbody>
                                    <!-- 성내지역 -->
                                    <tr>
                                        <td rowspan="3" class="region-col">성내지역</td>
                                        <td rowspan="2" class="location-col">성내문</td>
                                        <td class="personnel-col">
                                            <input type="text" name="member_성내문_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_성내문_1" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="personnel-col">
                                            <input type="text" name="member_성내문_2" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_성내문_3" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">차량검색소</td>
                                        <td class="personnel-col">
                                            <input type="text" name="member_차량검색소_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_차량검색소_1" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <!-- 시트지역 -->
                                    <tr>
                                        <td rowspan="6" class="region-col">시트지역</td>
                                        <td rowspan="2" class="location-col">시트1문</td>
                                        <td class="personnel-col">
                                            <div style="display: flex; gap: 60px; justify-content: flex-start;">
                                                <div style="text-align: left;">조장: <input type="text" name="supervisor_시트1문" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px;"></div>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="personnel-col">
                                            <input type="text" name="member_시트1문_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_시트1문_1" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_시트1문_2" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">시트1중문</td>
                                        <td class="personnel-col">
                                            <input type="text" name="member_시트1중문_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_시트1중문_1" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">시트1주차장초소</td>
                                        <td class="personnel-col">
                                            <input type="text" name="member_시트1주차장초소_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">시트3문</td>
                                        <td class="personnel-col">
                                            <input type="text" name="member_시트3문_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_시트3문_1" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">코일주차장</td>
                                        <td class="personnel-col">
                                            <input type="text" name="member_코일주차장_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <!-- 매암동지역 -->
                                    <tr>
                                        <td rowspan="2" class="region-col">매암동지역</td>
                                        <td class="location-col">엔진4부</td>
                                        <td class="personnel-col">
                                            <div style="display: flex; gap: 60px; justify-content: flex-start;">
                                                <div style="text-align: left;">조장: <input type="text" name="supervisor_엔진4부" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px;"></div>
                                            </div>
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="location-col">엔진4부 대원</td>
                                        <td class="personnel-col">
                                            <input type="text" name="member_엔진4부_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                            <input type="text" name="member_엔진4부_1" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                    
                                    <tr>
                                        <td class="region-col">매암동지역</td>
                                        <td class="location-col">야적장초소</td>
                                        <td class="personnel-col">
                                            <input type="text" name="member_야적장초소_0" value="" style="width: 80px; border: 1px solid #ddd; padding: 2px; margin: 2px;">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 직무 교육 -->
            <div class="form-section">
                <div class="section-header">□ 직무(안전/보건) 교육</div>
                <div class="section-content">
                    <div class="form-row">
                        <div class="form-group" style="width: 100%;">
                            <label>교육내용</label>
                            <textarea name="education[content]" class="form-control" rows="3" placeholder="교육내용을 입력하세요"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 버튼 -->
            <div style="text-align: center; margin-top: 30px;">
                <button type="submit" class="btn btn-primary">저장</button>
                <button type="button" class="btn btn-secondary" onclick="history.back()">취소</button>
            </div>
        </form>
    </div>
</body>
</html>
